<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø±Ú˜ÛŒÙ… (Ú©Ù†ØªØ±Ù„ Ú©Ø§Ù…Ù„ Ù…Ø§Ú©Ø±Ùˆ)</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Vazirmatn', sans-serif; }
        .meal-card, .fixed-item-card, .info-card { transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease; border-width: 2px; border-color: transparent; }
        .meal-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1); }
        .meal-card.selected { border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.4); }
        .satiety-card { border-left-width: 4px; border-left-color: #f59e0b; }
        .ingredient-list { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-in-out; }
        .meal-card.open .ingredient-list, .fixed-item-card .ingredient-list, .info-card.open .ingredient-list { max-height: 1000px; }
        .sticky-summary { position: -webkit-sticky; position: sticky; top: 1rem; z-index: 10; }
        .keto-tag { background-color: #16a34a; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px; margin-right: 10px; }
        .gram-input { width: 60px; text-align: center; border: 1px solid #d1d5db; border-radius: 6px; padding: 2px 4px; margin-left: 4px; }
        .input-group input { text-align: center; font-weight: 600; }
        input[type=range] { -webkit-appearance: none; background: transparent; cursor: pointer; width: 100%; }
        input[type=range]::-webkit-slider-runnable-track { height: 0.5rem; border-radius: 0.5rem; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; margin-top: -4px; background-color: #ffffff; height: 1.25rem; width: 1.25rem; border-radius: 50%; border: 2px solid #3b82f6; }
        #macroSlider::-webkit-slider-runnable-track { background: linear-gradient(to right, #34d399, #f59e0b); }
        
        .toggle-label { background-color: #f87171; transition: background-color 0.2s ease; }
        .toggle-checkbox:checked + .toggle-label { background-color: #4ade80; }
        .toggle-checkbox:checked + .toggle-label .toggle-dot { transform: translateX(100%); }

        @media print {
            body { padding: 0; margin: 0; }
            .no-print { display: none !important; }
            .container { max-width: 100% !important; box-shadow: none !important; padding: 0 !important; }
            .meal-card, .fixed-item-card, .bg-white, .info-card { box-shadow: none !important; border: 1px solid #e5e7eb; }
            .meal-card, .info-card { page-break-inside: avoid; }
            .meal-card.selected { display: block !important; border-color: #9ca3af; }
            .meal-card:not(.selected) { display: none; }
            .ingredient-list { max-height: 1000px !important; }
            h1, h2, p { color: #000 !important; }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

<div class="container mx-auto p-4 md:p-8 max-w-6xl">

    <header class="text-center mb-8 no-print">
        <h1 class="text-4xl font-bold text-gray-900 mb-2">ğŸ¥— Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨ Ø¶Ø¯ Ú¯Ø±Ø³Ù†Ú¯ÛŒ Ø´Ù…Ø§</h1>
        <p class="text-lg text-gray-600">ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø­Ø¯Ø§Ú©Ø«Ø± Ø§Ø­Ø³Ø§Ø³ Ø³ÛŒØ±ÛŒ</p>
    </header>

    <!-- Dynamic Inputs -->
     <div class="bg-white p-6 rounded-xl shadow-md mb-8 grid grid-cols-1 md:grid-cols-2 gap-6 no-print">
        <div class="input-group">
            <label for="currentWeight" class="block text-center font-semibold text-gray-700 mb-2">âš–ï¸ ÙˆØ²Ù† ÙØ¹Ù„ÛŒ Ø´Ù…Ø§ (Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…)</label>
            <input type="number" id="currentWeight" value="93" class="w-full p-2 border-2 rounded-lg text-xl text-blue-600 focus:ring-blue-500 focus:border-blue-500">
        </div>
        <div class="input-group">
            <label for="targetWeeklyLoss" class="block text-center font-semibold text-gray-700 mb-2">ğŸ“‰ Ù‡Ø¯Ù Ú©Ø§Ù‡Ø´ ÙˆØ²Ù† Ù‡ÙØªÚ¯ÛŒ (Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…)</label>
            <input type="number" id="targetWeeklyLoss" value="1.0" step="0.1" class="w-full p-2 border-2 rounded-lg text-xl text-green-600 focus:ring-green-500 focus:border-green-500">
        </div>
    </div>

    <!-- Live Dashboard -->
    <div id="live-dashboard" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8 text-center">
        <div class="bg-white p-4 rounded-xl shadow-sm"><p class="font-semibold text-gray-500 text-sm">Ø´Ø§Ø®Øµ ØªÙˆØ¯Ù‡ Ø¨Ø¯Ù†ÛŒ (BMI)</p><p id="displayBMI" class="text-2xl font-bold text-blue-600"></p></div>
        <div class="bg-white p-4 rounded-xl shadow-sm"><p class="font-semibold text-gray-500 text-sm">Ù…ØªØ§Ø¨ÙˆÙ„ÛŒØ³Ù… Ù¾Ø§ÛŒÙ‡ (BMR)</p><p id="displayBMR" class="text-2xl font-bold text-blue-600"></p></div>
        <div class="bg-white p-4 rounded-xl shadow-sm"><p class="font-semibold text-gray-500 text-sm">Ú©Ø§Ù„Ø±ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø±ÙˆØ²Ø§Ù†Ù‡ (TDEE)</p><p id="displayTDEE" class="text-2xl font-bold text-blue-600"></p></div>
        <div class="bg-white p-4 rounded-xl shadow-sm col-span-2 lg:col-span-1"><p class="font-semibold text-gray-500 text-sm">Ú©Ø³Ø±ÛŒ Ú©Ø§Ù„Ø±ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡</p><p id="displayDeficit" class="text-2xl font-bold text-red-500"></p></div>
        <div class="bg-white p-4 rounded-xl shadow-sm col-span-2 lg:col-span-1 border-2 border-green-500"><p class="font-semibold text-gray-500 text-sm">Ú©Ø§Ù„Ø±ÛŒ Ù‡Ø¯Ù Ø¬Ø¯ÛŒØ¯</p><p id="displayTargetCalories" class="text-3xl font-bold text-green-600"></p></div>
    </div>
    
    <!-- Macro Profile Controller -->
    <div class="bg-white p-6 rounded-xl shadow-md mb-8 no-print">
        <label for="macroSlider" class="block text-center font-bold text-gray-800 mb-3 text-xl">ØªÙ†Ø¸ÛŒÙ… Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ù„ÛŒ Ù…Ø§Ú©Ø±Ùˆ</label>
        <div class="flex items-center justify-between gap-4">
            <span class="text-sm font-semibold text-green-600">Ù…ØªØ¹Ø§Ø¯Ù„ (Ú©Ø±Ø¨Ùˆ)</span>
            <input type="range" id="macroSlider" min="0" max="100" value="75" class="w-full">
            <span class="text-sm font-semibold text-amber-600">Ø³ÛŒØ±Ú©Ù†Ù†Ø¯Ù‡ (Ú†Ø±Ø¨ÛŒ)</span>
        </div>
        <div id="macroRatioDisplay" class="text-center mt-3 font-bold text-lg text-gray-700"></div>
    </div>

    <!-- Daily Summary Bar -->
    <div id="summary-bar" class="sticky-summary bg-blue-600 text-white p-4 rounded-xl shadow-lg mb-8 no-print">
        <div class="flex items-center justify-between flex-wrap gap-4">
            <h2 class="text-xl font-bold">Ø®Ù„Ø§ØµÙ‡ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø´Ù…Ø§</h2>
            <div class="flex items-center gap-4 text-lg">
                <span>Ú©Ø§Ù„Ø±ÛŒ Ú©Ù„:</span>
                <span id="total-calories" class="font-bold text-2xl bg-white text-blue-700 px-3 py-1 rounded-md">0</span>
                <span id="target-calories-display">/ 1500</span>
            </div>
             <button id="printBtn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg">Ø°Ø®ÛŒØ±Ù‡ Ø¨Ù‡ ØµÙˆØ±Øª PDF</button>
        </div>
        <div class="w-full bg-blue-400 rounded-full h-2.5 mt-2">
            <div id="progress-bar" class="bg-yellow-300 h-2.5 rounded-full" style="width: 0%"></div>
        </div>
    </div>

    <!-- Fixed Snacks Section -->
    <section class="mb-8">
        <h2 class="text-2xl font-bold mb-4 border-b-2 pb-2 border-gray-200">ğŸ¥¤ ÙˆØ¹Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø«Ø§Ø¨Øª Ø±ÙˆØ²Ø§Ù†Ù‡ (Ù‚Ø§Ø¨Ù„ ÙˆÛŒØ±Ø§ÛŒØ´)</h2>
        <div id="fixed-snacks-container" class="space-y-4"></div>
    </section>

    <!-- Super Satiety Section -->
    <section class="mb-8">
        <h2 class="text-2xl font-bold mb-4 border-b-2 pb-2 border-amber-400 text-amber-600">â­ ÙˆØ¹Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙÙˆÙ‚ Ø³ÛŒØ±Ú©Ù†Ù†Ø¯Ù‡ (Ø¨Ø±Ø§ÛŒ Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø³Ø®Øª)</h2>
        <div id="super-satiety-container" class="space-y-4"></div>
    </section>

    <!-- Meal Sections -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <section id="meal1-section">
            <h2 class="text-2xl font-bold mb-4 border-b-2 pb-2 border-gray-200">ğŸŒ… ÙˆØ¹Ø¯Ù‡ Ø§ÙˆÙ„</h2>
            <div id="meal1-container" class="space-y-4"></div>
        </section>
        <section id="meal2-section">
            <h2 class="text-2xl font-bold mb-4 border-b-2 pb-2 border-gray-200">ğŸ› ÙˆØ¹Ø¯Ù‡ Ø¯ÙˆÙ…</h2>
            <div id="meal2-container" class="space-y-4"></div>
        </section>
    </div>

    <!-- Info Cards Section -->
    <section class="mt-8">
        <h2 class="text-2xl font-bold mb-4 border-b-2 pb-2 border-gray-200">Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÚ©Ù…ÛŒÙ„ÛŒ</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6" id="info-cards-grid">
             <div id="dessert-card-container"></div>
             <div id="drinks-card-container"></div>
             <div id="sauces-card-container"></div>
             <div id="fasting-card-container"></div>
        </div>
    </section>

</div>

<script>
    const weightInput = document.getElementById('currentWeight');
    const lossInput = document.getElementById('targetWeeklyLoss');
    const macroSlider = document.getElementById('macroSlider');
    const displayBMI = document.getElementById('displayBMI');
    const displayBMR = document.getElementById('displayBMR');
    const displayTDEE = document.getElementById('displayTDEE');
    const displayDeficit = document.getElementById('displayDeficit');
    const displayTargetCalories = document.getElementById('displayTargetCalories');
    const totalCaloriesEl = document.getElementById('total-calories');
    const progressBarEl = document.getElementById('progress-bar');
    const targetCaloriesDisplay = document.getElementById('target-calories-display');
    const macroRatioDisplay = document.getElementById('macroRatioDisplay');
    const fixedSnacksContainer = document.getElementById('fixed-snacks-container');
    const superSatietyContainer = document.getElementById('super-satiety-container');
    const meal1Container = document.getElementById('meal1-container');
    const meal2Container = document.getElementById('meal2-container');
    const fastingCardContainer = document.getElementById('fasting-card-container');
    const dessertCardContainer = document.getElementById('dessert-card-container');
    const drinksCardContainer = document.getElementById('drinks-card-container');
    const saucesCardContainer = document.getElementById('sauces-card-container');
    const printBtn = document.getElementById('printBtn');

    const HEIGHT_CM = 175;
    const AGE = 28;
    const ACTIVITY_MULTIPLIER = 1.375;
    
    let MEAL_DATA = {};

    const ORIGINAL_MEALS_DB = {
        fixedSnacks: [
             { name: 'Ù…ÛŒÚ©Ø³ ØªØ®Ù… Ø´Ø±Ø¨ØªÛŒ', emoji: 'ğŸŒ±', ingredients: [{ e: 'ğŸŒ±', n: 'ØªØ®Ù… Ø´Ø±Ø¨ØªÛŒ', g: 40, cal: 194, p: 6.9, f: 12.3, c: 16.9, fi: 13.8 }] },
             { name: 'Ø´ÛŒØ± Ú©Ø§Ú©Ø§Ø¦Ùˆ', emoji: 'ğŸ«', ingredients: [{ e: 'ğŸ¥›', n: 'Ø´ÛŒØ±', g: 200, cal: 96, p: 7.0, f: 3.6, c: 9.6, fi: 0 }, { e: 'ğŸ«', n: 'Ù¾ÙˆØ¯Ø± Ú©Ø§Ú©Ø§Ø¦Ùˆ', g: 20, cal: 66, p: 3.8, f: 3.1, c: 6.6, fi: 6.6 }] },
             { name: 'Ø³Ø§Ù„Ø§Ø¯ Ø¨Ø§ Ø³Ø³', emoji: 'ğŸ¥—', ingredients: [{ e: 'ğŸ¥—', n: 'Ø³Ø§Ù„Ø§Ø¯ ÙØµÙ„', g: 200, cal: 40, p: 2, f: 0.4, c: 9, fi: 3 }, { e: 'ğŸ¥£', n: 'Ø³Ø³ Ù‡Ø²Ø§Ø± Ø¬Ø²ÛŒØ±Ù‡ Ø¯Ù„Ù¾Ø°ÛŒØ±', g: 30, cal: 121, p: 0.2, f: 11.7, c: 2.8, fi: 0 }, { e: 'ğŸ¥›', n: 'Ù…Ø§Ø³Øª Ù¾Ø±Ú†Ø±Ø¨', g: 100, cal: 95, p: 9, f: 5, c: 3, fi: 0 }] }
        ],
        superSatiety: [
            { name: 'Ú†Ù„Ùˆ Ú©Ø¨Ø§Ø¨ Ú©ÙˆØ¨ÛŒØ¯Ù‡ Ù¾Ø±Ú†Ø±Ø¨', emoji: 'ğŸ¢', ingredients: [{ e: 'ğŸ¢', n: 'Ú©Ø¨Ø§Ø¨ Ú©ÙˆØ¨ÛŒØ¯Ù‡ (Ú¯ÙˆØ´Øª Ù¾Ø±Ú†Ø±Ø¨)', g: 180, cal: 550, p: 38, f: 45, c: 5, fi: 1 }, { e: 'ğŸš', n: 'Ø¨Ø±Ù†Ø¬ Ø§ÛŒØ±Ø§Ù†ÛŒ (Ù…Ù‚Ø¯Ø§Ø± Ú©Ù…)', g: 150, cal: 195, p: 4, f: 0.5, c: 42, fi: 0.6 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 20, cal: 144, p: 0.2, f: 16.2, c: 0, fi: 0 }, { e: 'ğŸ¥—', n: 'Ø³Ø§Ù„Ø§Ø¯ ÙØµÙ„ Ø¨Ø§ Ø±ÙˆØºÙ† Ø²ÛŒØªÙˆÙ†', g: 200, cal: 150, p: 2, f: 14, c: 5, fi: 4 }] },
            { name: 'Ú©ØªÙˆ: Ø³Ø§Ù„Ø§Ø¯ Ø§Ù„ÙˆÛŒÙ‡', isKeto: true, emoji: 'ğŸ¥š', ingredients: [{ e: 'ğŸ¥š', n: 'ØªØ®Ù… Ù…Ø±Øº Ø¢Ø¨â€ŒÙ¾Ø² (Û³ Ø¹Ø¯Ø¯)', g: 150, cal: 233, p: 19.5, f: 16.5, c: 1.7, fi: 0 }, { e: 'ğŸ¥£', n: 'Ø³Ø³ Ù…Ø§ÛŒÙˆÙ†Ø² Ù¾Ø±Ú†Ø±Ø¨', g: 100, cal: 700, p: 1, f: 78, c: 1, fi: 0 }, { e: 'ğŸ”', n: 'Ø³ÛŒÙ†Ù‡ Ù…Ø±Øº Ù¾Ø®ØªÙ‡', g: 100, cal: 165, p: 31, f: 3.6, c: 0, fi: 0 }] },
            { name: 'Ù„Ø§Ø²Ø§Ù†ÛŒØ§ Ù¾Ø±Ú†Ø±Ø¨', emoji: 'ğŸ', ingredients: [{ e: 'ğŸ', n: 'ÙˆØ±Ù‚ Ù„Ø§Ø²Ø§Ù†ÛŒØ§', g: 100, cal: 370, p: 12, f: 3, c: 75, fi: 4 }, { e: 'ğŸ¥©', n: 'Ú¯ÙˆØ´Øª Ú†Ø±Ø® Ú©Ø±Ø¯Ù‡', g: 150, cal: 380, p: 25, f: 30, c: 0, fi: 0 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ù¾ÛŒØªØ²Ø§', g: 150, cal: 450, p: 38, f: 30, c: 3, fi: 0 }] },
        ],
        breakfast: [
            { name: 'Ø§Ù…Ù„Øª Ú¯ÙˆØ¬Ù‡ Ùˆ Ù¾Ù†ÛŒØ±', emoji: 'ğŸ³', ingredients: [{ e: 'ğŸ³', n: 'ØªØ®Ù… Ù…Ø±Øº Ø¨Ø²Ø±Ú¯ (Û² Ø¹Ø¯Ø¯)', g: 100, cal: 155, p: 13, f: 11, c: 1.1, fi: 0 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ø®Ø§Ù…Ù‡â€ŒØ§ÛŒ', g: 30, cal: 64, p: 1.8, f: 6.3, c: 1.1, fi: 0 }, { e: 'ğŸ…', n: 'Ú¯ÙˆØ¬Ù‡ Ù…ØªÙˆØ³Ø·', g: 120, cal: 22, p: 1.1, f: 0.2, c: 4.7, fi: 1.4 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 14, cal: 100, p: 0.1, f: 11.4, c: 0, fi: 0 }, { e: 'ğŸ', n: 'Ù†Ø§Ù† Ø³Ù†Ú¯Ú©', g: 50, cal: 125, p: 5, f: 0.6, c: 27.5, fi: 3.7 }] },
            { name: 'Ø¹Ø¯Ø³ÛŒ Ø¨Ø§ Ú©Ø±Ù‡', emoji: 'ğŸ¥£', ingredients: [{ e: 'ğŸ¥£', n: 'Ø¹Ø¯Ø³ Ù¾Ø®ØªÙ‡', g: 150, cal: 174, p: 13.5, f: 0.6, c: 30, fi: 12 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 10, cal: 72, p: 0.1, f: 8.1, c: 0, fi: 0 }, { e: 'ğŸ', n: 'Ù†Ø§Ù† Ø¨Ø±Ø¨Ø±ÛŒ', g: 50, cal: 137, p: 4.4, f: 0.6, c: 28.1, fi: 1.2 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ø®Ø§Ù…Ù‡â€ŒØ§ÛŒ', g: 30, cal: 64, p: 1.8, f: 6.3, c: 1.1, fi: 0 }] },
            { name: 'Ø³Ø§Ù†Ø¯ÙˆÛŒÚ† Ø±Ø³Øª Ø¨ÛŒÙ', emoji: 'ğŸ¥ª', ingredients: [{ e: 'ğŸ¥©', n: 'Ú¯ÙˆØ´Øª Ø±Ø³Øª Ø¨ÛŒÙ', g: 125, cal: 250, p: 30, f: 14, c: 0, fi: 0 }, { e: 'ğŸ', n: 'Ù†Ø§Ù† Ø¨Ø§Ú¯Øª', g: 100, cal: 280, p: 9, f: 3, c: 52, fi: 2.5 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± ÙˆØ±Ù‚Ù‡â€ŒØ§ÛŒ', g: 20, cal: 70, p: 4, f: 5.5, c: 1, fi: 0 }, { e: 'ğŸ„', n: 'Ù‚Ø§Ø±Ú† Ùˆ Ø³Ø³', g: 50, cal: 100, p: 2, f: 9, c: 4, fi: 1 }] },
            { name: 'Ù¾Ù†ÛŒØ±ØŒ Ú¯Ø±Ø¯Ùˆ Ùˆ Ø®ÛŒØ§Ø±', emoji: 'ğŸ¥’', ingredients: [{ e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ø®Ø§Ù…Ù‡â€ŒØ§ÛŒ', g: 30, cal: 64, p: 1.8, f: 6.3, c: 1.1, fi: 0 }, { e: 'ğŸŒ°', n: 'Ú¯Ø±Ø¯Ùˆ', g: 15, cal: 98, p: 2.3, f: 9.8, c: 2.1, fi: 1 }, { e: 'ğŸ', n: 'Ù†Ø§Ù† Ù„ÙˆØ§Ø´', g: 50, cal: 140, p: 4.4, f: 1.1, c: 28.7, fi: 1.5 }, { e: 'ğŸ¥’', n: 'Ø®ÛŒØ§Ø± Ù…ØªÙˆØ³Ø·', g: 150, cal: 23, p: 1, f: 0.2, c: 5.4, fi: 0.8 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 14, cal: 100, p: 0.1, f: 11.4, c: 0, fi: 0 }] },
            { name: 'Ú†ÛŒÚ©Ù† Ø¨Ø±Ú¯Ø±', emoji: 'ğŸ”', ingredients: [{ e: 'ğŸ”', n: 'Ø³ÛŒÙ†Ù‡ Ù…Ø±Øº Ú¯Ø±ÛŒÙ„', g: 130, cal: 215, p: 40, f: 5, c: 0, fi: 0 }, { e: 'ğŸ', n: 'Ù†Ø§Ù† Ù‡Ù…Ø¨Ø±Ú¯Ø±', g: 70, cal: 200, p: 7, f: 3, c: 36, fi: 2 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± ÙˆØ±Ù‚Ù‡â€ŒØ§ÛŒ (Û²)', g: 40, cal: 140, p: 8, f: 11, c: 2, fi: 0 }, { e: 'ğŸ¥¬', n: 'Ú©Ø§Ù‡Ùˆ Ùˆ Ú¯ÙˆØ¬Ù‡', g: 50, cal: 10, p: 0.5, f: 0.1, c: 2, fi: 1 }, { e: 'ğŸ¥£', n: 'Ø³Ø³', g: 30, cal: 100, p: 0.2, f: 10, c: 5, fi: 0 }] },
            { name: 'ØªØ®Ù… Ù…Ø±Øº Ø¢Ø¨â€ŒÙ¾Ø² Ùˆ Ù†Ø§Ù†', emoji: 'ğŸ¥š', ingredients: [{ e: 'ğŸ¥š', n: 'ØªØ®Ù… Ù…Ø±Øº Ø¢Ø¨â€ŒÙ¾Ø² (Û² Ø¹Ø¯Ø¯)', g: 100, cal: 155, p: 13, f: 11, c: 1.1, fi: 0 }, { e: 'ğŸ', n: 'Ù†Ø§Ù† Ø³Ù†Ú¯Ú©', g: 50, cal: 125, p: 5, f: 0.6, c: 27.5, fi: 3.7 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 10, cal: 72, p: 0.1, f: 8.1, c: 0, fi: 0 }, { e: 'ğŸ¥’', n: 'Ø®ÛŒØ§Ø± Ùˆ Ú¯ÙˆØ¬Ù‡', g: 150, cal: 60, p: 2, f: 0.5, c: 10, fi: 2 }] },
            { name: 'Ù…Ø§Ø³Øª Ùˆ Ø®ÛŒØ§Ø± Ø¨Ø§ Ù†Ø§Ù†', emoji: 'ğŸ¥›', ingredients: [{ e: 'ğŸ¥›', n: 'Ù…Ø§Ø³Øª Ù¾Ø±Ú†Ø±Ø¨', g: 200, cal: 190, p: 18, f: 10, c: 6, fi: 0 }, { e: 'ğŸ¥’', n: 'Ø®ÛŒØ§Ø±', g: 150, cal: 23, p: 1, f: 0.2, c: 5.4, fi: 0.8 }, { e: 'ğŸŒ°', n: 'Ú¯Ø±Ø¯Ùˆ', g: 10, cal: 65, p: 1.5, f: 6.5, c: 1.4, fi: 0.7 }, { e: 'ğŸ', n: 'Ù†Ø§Ù† Ø®Ø´Ú©', g: 50, cal: 170, p: 5, f: 1, c: 35, fi: 3 }] },
            { name: 'Ø§Ù…Ù„Øª Ù‚Ø§Ø±Ú†', emoji: 'ğŸ„', ingredients: [{ e: 'ğŸ³', n: 'ØªØ®Ù… Ù…Ø±Øº Ø¨Ø²Ø±Ú¯ (Û² Ø¹Ø¯Ø¯)', g: 100, cal: 155, p: 13, f: 11, c: 1.1, fi: 0 }, { e: 'ğŸ„', n: 'Ù‚Ø§Ø±Ú†', g: 100, cal: 22, p: 3.1, f: 0.3, c: 3.3, fi: 1 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 14, cal: 100, p: 0.1, f: 11.4, c: 0, fi: 0 }, { e: 'ğŸ', n: 'Ù†Ø§Ù† Ø³Ù†Ú¯Ú©', g: 50, cal: 125, p: 5, f: 0.6, c: 27.5, fi: 3.7 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ø®Ø§Ù…Ù‡â€ŒØ§ÛŒ', g: 30, cal: 64, p: 1.8, f: 6.3, c: 1.1, fi: 0 }] },
            { name: 'Ú˜Ø§Ù…Ø¨ÙˆÙ† Ú¯ÙˆØ´Øª Ø³Ø±Ø¯', emoji: 'ğŸ–', ingredients: [{ e: 'ğŸ–', n: 'Ú˜Ø§Ù…Ø¨ÙˆÙ† Ú¯ÙˆØ´Øª', g: 200, cal: 500, p: 24, f: 44, c: 2, fi: 0 }, { e: 'ğŸ', n: 'Ù†Ø§Ù† Ø¨Ø§Ú¯Øª', g: 100, cal: 280, p: 9, f: 3, c: 52, fi: 2.5 }, { e: 'ğŸ¥’', n: 'Ø®ÛŒØ§Ø±Ø´ÙˆØ± Ùˆ Ú¯ÙˆØ¬Ù‡', g: 90, cal: 25, p: 1, f: 0.2, c: 5, fi: 1.5 }] },
            { name: 'Ø¬Ùˆ Ø¯ÙˆØ³Ø± Ù¾Ø±Ú©', emoji: 'ğŸ¥£', ingredients: [{ e: 'ğŸ¥£', n: 'Ø¬Ùˆ Ø¯ÙˆØ³Ø±', g: 40, cal: 150, p: 5, f: 2.5, c: 27, fi: 4 }, { e: 'ğŸŒ°', n: 'Ú¯Ø±Ø¯Ùˆ', g: 10, cal: 65, p: 1.5, f: 6.5, c: 1.4, fi: 0.7 }, { e: 'ğŸ¯', n: 'Ø¹Ø³Ù„', g: 21, cal: 64, p: 0.1, f: 0, c: 17, fi: 0 }] },
            { name: 'Ø­Ù„ÙˆØ§ Ø´Ú©Ø±ÛŒ Ø¨Ø§ Ù†Ø§Ù†', emoji: 'ğŸ®', ingredients: [{ e: 'ğŸ®', n: 'Ø­Ù„ÙˆØ§ Ø´Ú©Ø±ÛŒ', g: 50, cal: 250, p: 7, f: 15, c: 22, fi: 2 }, { e: 'ğŸ', n: 'Ù†Ø§Ù† Ø¨Ø±Ø¨Ø±ÛŒ', g: 50, cal: 137, p: 4.4, f: 0.6, c: 28.1, fi: 1.2 }] },
            { name: 'Ù‡Ø§Øª Ø¯Ø§Ú¯ Ø³Ø§Ø¯Ù‡', emoji: 'ğŸŒ­', ingredients: [{ e: 'ğŸŒ­', n: 'Ù‡Ø§Øª Ø¯Ø§Ú¯ Û¸Û°Ùª', g: 80, cal: 250, p: 10, f: 22, c: 3, fi: 0 }, { e: 'ğŸ', n: 'Ù†Ø§Ù† Ø¨Ø§Ú¯Øª', g: 100, cal: 280, p: 9, f: 3, c: 52, fi: 2.5 }, { e: 'ğŸ¥¬', n: 'Ú©Ø§Ù‡ÙˆØŒ Ø®ÛŒØ§Ø±Ø´ÙˆØ±ØŒ Ú¯ÙˆØ¬Ù‡', g: 100, cal: 20, p: 1, f: 0.2, c: 4, fi: 1.5 }] },
            { name: 'ÙØ±Ù†ÛŒ', emoji: 'ğŸ¥£', ingredients: [{ e: 'ğŸš', n: 'Ø¢Ø±Ø¯ Ø¨Ø±Ù†Ø¬', g: 30, cal: 110, p: 2, f: 0.4, c: 24, fi: 0.7 }, { e: 'ğŸ¬', n: 'Ø´Ú©Ø±', g: 15, cal: 60, p: 0, f: 0, c: 15, fi: 0 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 10, cal: 72, p: 0.1, f: 8.1, c: 0, fi: 0 }] },
            { name: 'Ù¾Ù†Ú©ÛŒÚ© Ø®Ø§Ù†Ú¯ÛŒ', emoji: 'ğŸ¥', ingredients: [{ e: 'ğŸ¥', n: 'Ø¢Ø±Ø¯', g: 50, cal: 180, p: 5, f: 1, c: 38, fi: 1.5 }, { e: 'ğŸ³', n: 'ØªØ®Ù… Ù…Ø±Øº (Û² Ø¹Ø¯Ø¯)', g: 100, cal: 155, p: 13, f: 11, c: 1.1, fi: 0 }, { e: 'ğŸ¯', n: 'Ø¹Ø³Ù„', g: 21, cal: 64, p: 0.1, f: 0, c: 17, fi: 0 }] },
            { name: 'Ù†Ø§Ù† Ùˆ Ù¾Ù†ÛŒØ± Ùˆ Ø³Ø¨Ø²ÛŒ', emoji: 'ğŸŒ¿', ingredients: [{ e: 'ğŸ', n: 'Ù†Ø§Ù† Ø³Ù†Ú¯Ú©', g: 50, cal: 125, p: 5, f: 0.6, c: 27.5, fi: 3.7 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ø®Ø§Ù…Ù‡â€ŒØ§ÛŒ', g: 50, cal: 107, p: 3, f: 10, c: 1.5, fi: 0 }, { e: 'ğŸŒ¿', n: 'Ø³Ø¨Ø²ÛŒ Ø®ÙˆØ±Ø¯Ù†', g: 100, cal: 25, p: 2, f: 0.5, c: 4, fi: 2 }, { e: 'ğŸŒ°', n: 'Ú¯Ø±Ø¯Ùˆ', g: 15, cal: 98, p: 2.3, f: 9.8, c: 2.1, fi: 1 }] },
            { name: 'Ú©ØªÙˆ: Ø§Ù…Ù„Øª Ø§Ø³ÙÙ†Ø§Ø¬ Ùˆ Ù¾Ù†ÛŒØ±', isKeto: true, emoji: 'ğŸ¥¬', ingredients: [{ e: 'ğŸ³', n: 'ØªØ®Ù… Ù…Ø±Øº Ø¨Ø²Ø±Ú¯ (Û³ Ø¹Ø¯Ø¯)', g: 150, cal: 233, p: 19.5, f: 16.5, c: 1.7, fi: 0 }, { e: 'ğŸ¥¬', n: 'Ø§Ø³ÙÙ†Ø§Ø¬', g: 100, cal: 23, p: 2.9, f: 0.4, c: 3.6, fi: 2.2 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ø®Ø§Ù…Ù‡â€ŒØ§ÛŒ', g: 50, cal: 107, p: 3, f: 10, c: 1.5, fi: 0 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 10, cal: 72, p: 0.1, f: 8.1, c: 0, fi: 0 }] },
            { name: 'Ú©ØªÙˆ: Ø§Ù…Ù„Øª Ø¨Ø§ Ù¾Ù†ÛŒØ± Ù…ÙˆØ²Ø§Ø±Ù„Ø§', isKeto: true, emoji: 'ğŸ§€', ingredients: [{ e: 'ğŸ³', n: 'ØªØ®Ù… Ù…Ø±Øº Ø¨Ø²Ø±Ú¯ (Û³ Ø¹Ø¯Ø¯)', g: 150, cal: 233, p: 19.5, f: 16.5, c: 1.7, fi: 0 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ù…ÙˆØ²Ø§Ø±Ù„Ø§', g: 60, cal: 140, p: 12, f: 9, c: 2, fi: 0 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 10, cal: 72, p: 0.1, f: 8.1, c: 0, fi: 0 }] },
            { name: 'Ú©ØªÙˆ: Ù…Ø§Ø³Øª Ù¾Ø±Ú†Ø±Ø¨ Ùˆ Ø¢Ø¬ÛŒÙ„', isKeto: true, emoji: 'ğŸŒ°', ingredients: [{ e: 'ğŸ¥›', n: 'Ù…Ø§Ø³Øª Ù¾Ø±Ú†Ø±Ø¨', g: 200, cal: 190, p: 18, f: 10, c: 6, fi: 0 }, { e: 'ğŸŒ°', n: 'Ù…Ø®Ù„ÙˆØ· Ø¢Ø¬ÛŒÙ„', g: 30, cal: 180, p: 6, f: 15, c: 6, fi: 3 }] },
            { name: 'Ú©ØªÙˆ: ÙØ±Ù†ÛŒ Ø¨Ø§Ø¯Ø§Ù…', isKeto: true, emoji: 'ğŸ¥œ', ingredients: [{ e: 'ğŸ¥œ', n: 'Ø¢Ø±Ø¯ Ø¨Ø§Ø¯Ø§Ù…', g: 50, cal: 290, p: 10, f: 25, c: 10, fi: 5 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 10, cal: 72, p: 0.1, f: 8.1, c: 0, fi: 0 }] },
            { name: 'Ú©ØªÙˆ: Ú©Ø±Ù‡ Ùˆ Ù¾Ù†ÛŒØ± Ø®Ø§Ù…Ù‡â€ŒØ§ÛŒ', isKeto: true, emoji: 'ğŸ§ˆ', ingredients: [{ e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 20, cal: 144, p: 0.2, f: 16.2, c: 0, fi: 0 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ø®Ø§Ù…Ù‡â€ŒØ§ÛŒ', g: 60, cal: 128, p: 3.6, f: 12.6, c: 2.2, fi: 0 }] },
        ],
        dinner: [
            { name: 'Ú†Ù„Ùˆ Ú©Ø¨Ø§Ø¨ Ú©ÙˆØ¨ÛŒØ¯Ù‡', emoji: 'ğŸ¢', ingredients: [{ e: 'ğŸ¢', n: 'Ú©Ø¨Ø§Ø¨ Ú©ÙˆØ¨ÛŒØ¯Ù‡', g: 160, cal: 450, p: 35, f: 32, c: 5, fi: 1 }, { e: 'ğŸš', n: 'Ø¨Ø±Ù†Ø¬ Ø§ÛŒØ±Ø§Ù†ÛŒ', g: 320, cal: 416, p: 8, f: 1, c: 90, fi: 1.5 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 10, cal: 72, p: 0.1, f: 8.1, c: 0, fi: 0 }, { e: 'ğŸ…', n: 'Ú¯ÙˆØ¬Ù‡ Ú©Ø¨Ø§Ø¨ÛŒ', g: 100, cal: 30, p: 1, f: 0.2, c: 7, fi: 1.5 }] },
            { name: 'Ú†Ù„Ùˆ Ø¬ÙˆØ¬Ù‡ Ú©Ø¨Ø§Ø¨', emoji: 'ğŸ”', ingredients: [{ e: 'ğŸ”', n: 'Ø¬ÙˆØ¬Ù‡ Ú©Ø¨Ø§Ø¨ Ø³ÛŒÙ†Ù‡', g: 165, cal: 270, p: 50, f: 6, c: 0, fi: 0 }, { e: 'ğŸš', n: 'Ø¨Ø±Ù†Ø¬ Ø§ÛŒØ±Ø§Ù†ÛŒ', g: 350, cal: 455, p: 9, f: 1, c: 98, fi: 1.8 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 10, cal: 72, p: 0.1, f: 8.1, c: 0, fi: 0 }, { e: 'ğŸ…', n: 'Ú¯ÙˆØ¬Ù‡ Ú©Ø¨Ø§Ø¨ÛŒ', g: 100, cal: 30, p: 1, f: 0.2, c: 7, fi: 1.5 }] },
            { name: 'Ù„Ø§Ø²Ø§Ù†ÛŒØ§ Ú¯ÙˆØ´Øª', emoji: 'ğŸ', ingredients: [{ e: 'ğŸ', n: 'ÙˆØ±Ù‚ Ù„Ø§Ø²Ø§Ù†ÛŒØ§', g: 100, cal: 370, p: 12, f: 3, c: 75, fi: 4 }, { e: 'ğŸ¥©', n: 'Ú¯ÙˆØ´Øª Ú†Ø±Ø® Ú©Ø±Ø¯Ù‡', g: 150, cal: 380, p: 25, f: 30, c: 0, fi: 0 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ù¾ÛŒØªØ²Ø§', g: 150, cal: 450, p: 38, f: 30, c: 3, fi: 0 }] },
            { name: 'Ù¾ÛŒØªØ²Ø§ Ù¾Ù¾Ø±ÙˆÙ†ÛŒ', emoji: 'ğŸ•', ingredients: [{ e: 'ğŸ•', n: 'Ø®Ù…ÛŒØ± Ù¾ÛŒØªØ²Ø§', g: 150, cal: 400, p: 15, f: 8, c: 70, fi: 4 }, { e: 'ğŸ–', n: 'Ù¾Ù¾Ø±ÙˆÙ†ÛŒ', g: 80, cal: 400, p: 18, f: 35, c: 2, fi: 0 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ù¾ÛŒØªØ²Ø§', g: 100, cal: 300, p: 25, f: 20, c: 2, fi: 0 }, { e: 'ğŸ…', n: 'Ø³Ø³ Ùˆ Ù‚Ø§Ø±Ú†', g: 70, cal: 80, p: 2, f: 4, c: 8, fi: 1.5 }] },
            { name: 'Ú©Ø´Ú© Ø¨Ø§Ø¯Ù…Ø¬Ø§Ù†', emoji: 'ğŸ†', ingredients: [{ e: 'ğŸ†', n: 'Ø¨Ø§Ø¯Ù…Ø¬Ø§Ù† Ú©Ø¨Ø§Ø¨ÛŒ', g: 200, cal: 70, p: 2, f: 0.4, c: 16, fi: 6 }, { e: 'ğŸ¥£', n: 'Ú©Ø´Ú©', g: 50, cal: 55, p: 8, f: 1, c: 4, fi: 0 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 10, cal: 72, p: 0.1, f: 8.1, c: 0, fi: 0 }, { e: 'ğŸŒ°', n: 'Ú¯Ø±Ø¯Ùˆ', g: 10, cal: 65, p: 1.5, f: 6.5, c: 1.4, fi: 0.7 }, { e: 'ğŸ', n: 'Ù†Ø§Ù† Ø³Ù†Ú¯Ú©', g: 50, cal: 125, p: 5, f: 0.6, c: 27.5, fi: 3.7 }, { e: 'ğŸ¥›', n: 'Ù…Ø§Ø³Øª Ù¾Ø±Ú†Ø±Ø¨', g: 245, cal: 150, p: 12, f: 8, c: 11, fi: 0 }] },
            { name: 'Ú©ÙˆÚ©Ùˆ Ø³Ø¨Ø²ÛŒ', emoji: 'ğŸŒ¿', ingredients: [{ e: 'ğŸŒ¿', n: 'Ú©ÙˆÚ©Ùˆ Ø³Ø¨Ø²ÛŒ', g: 150, cal: 250, p: 14, f: 18, c: 8, fi: 4 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 5, cal: 36, p: 0, f: 4, c: 0, fi: 0 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ø®Ø§Ù…Ù‡â€ŒØ§ÛŒ', g: 30, cal: 64, p: 1.8, f: 6.3, c: 1.1, fi: 0 }, { e: 'ğŸš', n: 'Ø¨Ø±Ù†Ø¬', g: 60, cal: 78, p: 1.6, f: 0.2, c: 16.8, fi: 0.2 }, { e: 'ğŸ¥›', n: 'Ù…Ø§Ø³Øª Ù¾Ø±Ú†Ø±Ø¨', g: 245, cal: 150, p: 12, f: 8, c: 11, fi: 0 }] },
            { name: 'Ú†Ù„Ùˆ Ø®ÙˆØ±Ø´Øª Ù‚ÙˆØ±Ù…Ù‡ Ø³Ø¨Ø²ÛŒ', emoji: 'ğŸ²', ingredients: [{ e: 'ğŸ²', n: 'Ø®ÙˆØ±Ø´Øª Ù‚ÙˆØ±Ù…Ù‡ Ø³Ø¨Ø²ÛŒ', g: 250, cal: 450, p: 25, f: 30, c: 20, fi: 8 }, { e: 'ğŸš', n: 'Ø¨Ø±Ù†Ø¬ Ø§ÛŒØ±Ø§Ù†ÛŒ', g: 300, cal: 390, p: 7.5, f: 0.9, c: 84, fi: 1.2 }] },
            { name: 'Ú†Ù„Ùˆ Ø®ÙˆØ±Ø´Øª Ù‚ÛŒÙ…Ù‡', emoji: 'ğŸ›', ingredients: [{ e: 'ğŸ›', n: 'Ø®ÙˆØ±Ø´Øª Ù‚ÛŒÙ…Ù‡', g: 250, cal: 400, p: 22, f: 25, c: 22, fi: 7 }, { e: 'ğŸŸ', n: 'Ø³ÛŒØ¨ Ø²Ù…ÛŒÙ†ÛŒ Ø³Ø±Ø® Ú©Ø±Ø¯Ù‡', g: 50, cal: 150, p: 2, f: 7, c: 18, fi: 2 }, { e: 'ğŸš', n: 'Ø¨Ø±Ù†Ø¬ Ø§ÛŒØ±Ø§Ù†ÛŒ', g: 300, cal: 390, p: 7.5, f: 0.9, c: 84, fi: 1.2 }] },
            { name: 'Ø¹Ø¯Ø³ Ù¾Ù„Ùˆ', emoji: 'ğŸš', ingredients: [{ e: 'ğŸš', n: 'Ø¹Ø¯Ø³ Ù¾Ù„Ùˆ', g: 180, cal: 244, p: 9.4, f: 5.2, c: 40, fi: 6.1 }, { e: 'ğŸ¥›', n: 'Ù…Ø§Ø³Øª Ù¾Ø±Ú†Ø±Ø¨', g: 245, cal: 150, p: 12, f: 8, c: 11, fi: 0 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡ Ø­ÛŒÙˆØ§Ù†ÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)', g: 15, cal: 108, p: 0.1, f: 12.2, c: 0, fi: 0, defaultOff: true }] },
            { name: 'Ù„ÙˆØ¨ÛŒØ§ Ù¾Ù„Ùˆ', emoji: 'ğŸ«›', ingredients: [{ e: 'ğŸ«›', n: 'Ù„ÙˆØ¨ÛŒØ§ Ù¾Ù„Ùˆ', g: 180, cal: 191, p: 5, f: 4.9, c: 32, fi: 4.6 }, { e: 'ğŸ¥›', n: 'Ù…Ø§Ø³Øª Ù¾Ø±Ú†Ø±Ø¨', g: 245, cal: 150, p: 12, f: 8, c: 11, fi: 0 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡ Ø­ÛŒÙˆØ§Ù†ÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)', g: 15, cal: 108, p: 0.1, f: 12.2, c: 0, fi: 0, defaultOff: true }] },
            { name: 'Ú©ÙˆÚ©Ùˆ Ø³ÛŒØ¨â€ŒØ²Ù…ÛŒÙ†ÛŒ', emoji: 'ğŸ¥”', ingredients: [{ e: 'ğŸ¥”', n: 'Ø³ÛŒØ¨â€ŒØ²Ù…ÛŒÙ†ÛŒ Ù¾Ø®ØªÙ‡', g: 170, cal: 148, p: 3.6, f: 0.2, c: 34, fi: 3.6 }, { e: 'ğŸ³', n: 'ØªØ®Ù… Ù…Ø±Øº Ø¨Ø²Ø±Ú¯ (Û² Ø¹Ø¯Ø¯)', g: 100, cal: 155, p: 13, f: 11, c: 1.1, fi: 0 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 10, cal: 72, p: 0.1, f: 8.1, c: 0, fi: 0 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ø®Ø§Ù…Ù‡â€ŒØ§ÛŒ', g: 30, cal: 64, p: 1.8, f: 6.3, c: 1.1, fi: 0 }, { e: 'ğŸ', n: 'Ù†Ø§Ù† Ø³Ù†Ú¯Ú©', g: 50, cal: 125, p: 5, f: 0.6, c: 27.5, fi: 3.7 }] },
            { name: 'ÙÛŒÙ„Ù‡ Ø§Ø³ØªØ±ÛŒÙ¾Ø³', emoji: 'ğŸ—', ingredients: [{ e: 'ğŸ—', n: 'ÙÛŒÙ„Ù‡ Ø³ÙˆØ®Ø§Ø±ÛŒ (Û´ ØªÚ©Ù‡)', g: 200, cal: 550, p: 45, f: 30, c: 25, fi: 2 }, { e: 'ğŸŸ', n: 'Ø³ÛŒØ¨ Ø²Ù…ÛŒÙ†ÛŒ Ø³Ø±Ø® Ú©Ø±Ø¯Ù‡', g: 150, cal: 450, p: 5, f: 22, c: 55, fi: 5 }, { e: 'ğŸ', n: 'Ù†Ø§Ù†', g: 50, cal: 140, p: 4, f: 2, c: 26, fi: 1 }] },
            { name: 'Ø³ÛŒØ¨ Ø²Ù…ÛŒÙ†ÛŒ ØªÙ†ÙˆØ±ÛŒ', emoji: 'ğŸ¥”', ingredients: [{ e: 'ğŸ¥”', n: 'Ø³ÛŒØ¨ Ø²Ù…ÛŒÙ†ÛŒ ØªÙ†ÙˆØ±ÛŒ', g: 300, cal: 350, p: 7, f: 15, c: 45, fi: 8 }, { e: 'ğŸ¥£', n: 'Ø³Ø³ Ú©Ú†Ø§Ù¾', g: 30, cal: 30, p: 0.5, f: 0.1, c: 8, fi: 0.5 }] },
            { name: 'Ø°Ø±Øª Ù…Ú©Ø²ÛŒÚ©ÛŒ', emoji: 'ğŸŒ½', ingredients: [{ e: 'ğŸŒ½', n: 'Ø°Ø±Øª Ù¾Ø®ØªÙ‡', g: 200, cal: 220, p: 8, f: 3, c: 48, fi: 5 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ù¾ÛŒØªØ²Ø§', g: 60, cal: 140, p: 12, f: 9, c: 2, fi: 0 }, { e: 'ğŸ„', n: 'Ù‚Ø§Ø±Ú†', g: 100, cal: 22, p: 3.1, f: 0.3, c: 3.3, fi: 1 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 14, cal: 100, p: 0.1, f: 11.4, c: 0, fi: 0 }, { e: 'ğŸ¥›', n: 'Ù…Ø§Ø³Øª Ù¾Ø±Ú†Ø±Ø¨', g: 100, cal: 95, p: 9, f: 5, c: 3, fi: 0 }] },
            { name: 'ÙÙ„Ø§ÙÙ„ Ø¯Ø± ÙØ±', emoji: 'ğŸ¥™', ingredients: [{ e: 'ğŸ¥™', n: 'ÙÙ„Ø§ÙÙ„ (Û¶ Ø¹Ø¯Ø¯)', g: 150, cal: 240, p: 12, f: 12, c: 24, fi: 10 }, { e: 'ğŸ', n: 'Ù†Ø§Ù† Ù¾ÛŒØªØ§', g: 50, cal: 140, p: 5, f: 1, c: 28, fi: 1.5 }, { e: 'ğŸ¥—', n: 'Ø³Ø§Ù„Ø§Ø¯ Ùˆ Ø³Ø¨Ø²ÛŒØ¬Ø§Øª', g: 150, cal: 75, p: 2, f: 5, c: 6, fi: 3 }, { e: 'ğŸ¥›', n: 'Ø³Ø³ Ù…Ø§Ø³Øª', g: 100, cal: 95, p: 9, f: 5, c: 3, fi: 0 }] },
            { name: 'Ø³Ø§Ù„Ø§Ø¯ Ø§Ù„ÙˆÛŒÙ‡', emoji: 'ğŸ¥”', ingredients: [{ e: 'ğŸ¥”', n: 'Ø³ÛŒØ¨â€ŒØ²Ù…ÛŒÙ†ÛŒ Ù¾Ø®ØªÙ‡', g: 150, cal: 130, p: 3, f: 0.2, c: 30, fi: 3 }, { e: 'ğŸ¥š', n: 'ØªØ®Ù… Ù…Ø±Øº Ø¢Ø¨â€ŒÙ¾Ø² (Û² Ø¹Ø¯Ø¯)', g: 100, cal: 155, p: 13, f: 11, c: 1.1, fi: 0 }, { e: 'ğŸ¥•', n: 'Ù†Ø®ÙˆØ¯ ÙØ±Ù†Ú¯ÛŒ', g: 50, cal: 41, p: 2.5, f: 0.2, c: 7, fi: 2.5 }, { e: 'ğŸŒ½', n: 'Ø°Ø±Øª', g: 50, cal: 43, p: 1.5, f: 0.5, c: 9.5, fi: 1 }, { e: 'ğŸŒ­', n: 'Ú©Ø§Ù„Ø¨Ø§Ø³', g: 70, cal: 210, p: 8.4, f: 18.2, c: 2.1, fi: 0 }, { e: 'ğŸ¥£', n: 'Ø³Ø³ Ù…Ø§ÛŒÙˆÙ†Ø²', g: 50, cal: 350, p: 0.5, f: 38, c: 1.5, fi: 0 }, { e: 'ğŸ', n: 'Ù†Ø§Ù†', g: 50, cal: 125, p: 5, f: 0.6, c: 27.5, fi: 3.7 }] },
            { name: 'Ø³Ø§Ù„Ø§Ø¯ Ù…Ø§Ú©Ø§Ø±ÙˆÙ†ÛŒ', emoji: 'ğŸ', ingredients: [{ e: 'ğŸ', n: 'Ù…Ø§Ú©Ø§Ø±ÙˆÙ†ÛŒ Ù¾Ø®ØªÙ‡', g: 80, cal: 125, p: 4.5, f: 0.9, c: 25, fi: 1.8 }, { e: 'ğŸŒ­', n: 'Ú©Ø§Ù„Ø¨Ø§Ø³', g: 80, cal: 240, p: 9.6, f: 20.8, c: 2.4, fi: 0 }, { e: 'ğŸ¥’', n: 'Ø®ÛŒØ§Ø±Ø´ÙˆØ±', g: 50, cal: 10, p: 0.5, f: 0.1, c: 2, fi: 1 }, { e: 'ğŸŒ½', n: 'Ø°Ø±Øª', g: 50, cal: 43, p: 1.5, f: 0.5, c: 9.5, fi: 1 }, { e: 'ğŸ¥•', n: 'Ù†Ø®ÙˆØ¯ ÙØ±Ù†Ú¯ÛŒ', g: 50, cal: 41, p: 2.5, f: 0.2, c: 7, fi: 2.5 }, { e: 'ğŸ¥£', n: 'Ø³Ø³ Ù…Ø§ÛŒÙˆÙ†Ø²', g: 50, cal: 350, p: 0.5, f: 38, c: 1.5, fi: 0 }, { e: 'ğŸŒ°', n: 'Ú¯Ø±Ø¯Ùˆ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)', g: 15, cal: 98, p: 2.3, f: 9.8, c: 2.1, fi: 1, defaultOff: true }] },
            { name: 'Ø¢Ø´ Ø±Ø´ØªÙ‡', emoji: 'ğŸ²', ingredients: [{ e: 'ğŸ²', n: 'Ø¢Ø´ Ø±Ø´ØªÙ‡ (ÛŒÚ© Ú©Ø§Ø³Ù‡)', g: 400, cal: 450, p: 18, f: 15, c: 65, fi: 15 }, { e: 'ğŸ¥£', n: 'Ú©Ø´Ú©', g: 30, cal: 33, p: 4.8, f: 0.6, c: 2.4, fi: 0 }, { e: 'ğŸ§…', n: 'Ù¾ÛŒØ§Ø² Ø¯Ø§Øº', g: 10, cal: 60, p: 0.2, f: 6, c: 2, fi: 0.3 }] },
            { name: 'Ø§Ø´Ú©Ù†Ù‡', emoji: 'ğŸ³', ingredients: [{ e: 'ğŸ³', n: 'ØªØ®Ù… Ù…Ø±Øº (Û² Ø¹Ø¯Ø¯)', g: 100, cal: 155, p: 13, f: 11, c: 1.1, fi: 0 }, { e: 'ğŸ¥”', n: 'Ù¾ÛŒØ§Ø² Ùˆ Ø³ÛŒØ¨ Ø²Ù…ÛŒÙ†ÛŒ', g: 150, cal: 150, p: 3, f: 0.2, c: 33, fi: 4 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 10, cal: 72, p: 0.1, f: 8.1, c: 0, fi: 0 }, { e: 'ğŸ', n: 'Ù†Ø§Ù†', g: 50, cal: 125, p: 5, f: 0.6, c: 27.5, fi: 3.7 }] },
            { name: 'Ø³ÙˆØ³ÛŒØ³ Ø¨Ø§ Ø³Ø³', emoji: 'ğŸŒ­', ingredients: [{ e: 'ğŸŒ­', n: 'Ø³ÙˆØ³ÛŒØ³', g: 55, cal: 150, p: 6.5, f: 12, c: 4, fi: 0 }, { e: 'ğŸ¥£', n: 'Ø³Ø³ Ú©Ú†Ø§Ù¾', g: 60, cal: 50, p: 0, f: 0, c: 10, fi: 0.5 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ù¾ÛŒØªØ²Ø§ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)', g: 30, cal: 90, p: 7, f: 6, c: 1, fi: 0, defaultOff: true }] },
            { name: 'Ú©ØªÙˆ: Ø®ÙˆØ±Ø§Ú© Ú©Ø¯Ùˆ Ùˆ Ù¾Ù†ÛŒØ±', isKeto: true, emoji: 'ğŸ¥’', ingredients: [{ e: 'ğŸ¥’', n: 'Ú©Ø¯Ùˆ Ø³Ø¨Ø²', g: 300, cal: 60, p: 3.6, f: 0.9, c: 9.3, fi: 3 }, { e: 'ğŸ§€', n: 'Ù¾Ù†ÛŒØ± Ø®Ø§Ù…Ù‡â€ŒØ§ÛŒ', g: 100, cal: 213, p: 6, f: 21, c: 3, fi: 0 }, { e: 'ğŸ§ˆ', n: 'Ú©Ø±Ù‡', g: 15, cal: 108, p: 0.1, f: 12.2, c: 0, fi: 0 }, { e: 'ğŸŒ°', n: 'Ú¯Ø±Ø¯Ùˆ', g: 15, cal: 98, p: 2.3, f: 9.8, c: 2.1, fi: 1 }] },
        ],
        infoCards: {
            fasting: {
                title: 'Ø®ÙˆØ±Ø§Ú©ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§Ø² Ø¯Ø± ÙØ³ØªÛŒÙ†Ú¯',
                emoji: 'ğŸ§˜',
                items: [
                    { name: 'Ø¢Ø¨ Ú¯Ø§Ø²Ø¯Ø§Ø±', e: 'ğŸ’§', info: 'Ø¨Ø¯ÙˆÙ† Ú©Ø§Ù„Ø±ÛŒØŒ Ú©Ù…Ú© Ø¨Ù‡ Ù‡ÛŒØ¯Ø±Ø§ØªØ§Ø³ÛŒÙˆÙ†' },
                    { name: 'Ù‚Ù‡ÙˆÙ‡ ØªÙ„Ø® / Ú†Ø§ÛŒ Ø³Ø¨Ø²', e: 'â˜•', info: 'Ø¨Ø¯ÙˆÙ† Ú©Ø§Ù„Ø±ÛŒØŒ Ø§ÙØ²Ø§ÛŒØ´ Ù…ØªØ§Ø¨ÙˆÙ„ÛŒØ³Ù…' },
                    { name: 'Ø³Ø¨Ø²ÛŒØ¬Ø§Øª Ø®Ø§Ù… (Ú©Ø±ÙØ³ØŒ Ø®ÛŒØ§Ø±)', e: 'ğŸ¥’', info: 'Ú©Ø§Ù„Ø±ÛŒ Ù†Ø§Ú†ÛŒØ²ØŒ ÙÛŒØ¨Ø± Ø¨Ø§Ù„Ø§' },
                    { name: 'Ø³Ø±Ú©Ù‡ Ø³ÛŒØ¨ (Ø¯Ø± Ø¢Ø¨)', e: 'ğŸ', info: 'Ú©Ù…Ú© Ø¨Ù‡ Ú©Ù†ØªØ±Ù„ Ù‚Ù†Ø¯ Ø®ÙˆÙ†' },
                    { name: 'Ø§Ù„Ú©ØªØ±ÙˆÙ„ÛŒØªâ€ŒÙ‡Ø§ (Ø¨Ø¯ÙˆÙ† Ø´Ú©Ø±)', e: 'âš¡', info: 'Ø¨Ø±Ø§ÛŒ Ø­ÙØ¸ Ù…ÙˆØ§Ø¯ Ù…Ø¹Ø¯Ù†ÛŒ Ø¨Ø¯Ù†' },
                    { name: 'Ø±ÙˆØºÙ† MCT', e: 'ğŸ¥¥', info: 'Ú†Ø±Ø¨ÛŒ Ø®Ø§Ù„ØµØŒ Ú©Ù…Ú© Ø¨Ù‡ Ø­Ø§Ù„Øª Ú©ØªÙˆÚ˜Ù†ÛŒÚ©' }
                ]
            },
            desserts: {
                title: 'Ø¯Ø³Ø± Ùˆ Ø´ÛŒØ±ÛŒÙ†ÛŒâ€ŒØ¬Ø§Øª',
                emoji: 'ğŸ°',
                items: [
                    { name: 'Ø´ÛŒØ±ÛŒÙ†ÛŒ Ø¯Ø§Ù†Ù…Ø§Ø±Ú©ÛŒ', e: 'ğŸ¥', cal: 400, p: 5, f: 22, c: 45, fi: 2 },
                    { name: 'Ú©ÛŒÚ© ØªÙˆÙ„Ø¯', e: 'ğŸ‚', cal: 400, p: 4, f: 20, c: 50, fi: 1 },
                    { name: 'Ø´ÛŒØ±ÛŒÙ†ÛŒ Ø±ÙˆÙ„Øª', e: 'ğŸ¥', cal: 200, p: 3, f: 10, c: 25, fi: 1 },
                    { name: 'Ø¨Ø³ØªÙ†ÛŒ Ø³Ù†ØªÛŒ', e: 'ğŸ¨', cal: 220, p: 4, f: 12, c: 24, fi: 0 },
                    { name: 'Ø´Ú©Ù„Ø§Øª ØªÙ„Ø® Û¸ÛµÙª', e: 'ğŸ«', cal: 600, p: 10, f: 50, c: 27, fi: 10 },
                    { name: 'Ú©ÛŒÚ© ÛŒØ²Ø¯ÛŒ', e: 'ğŸ§', cal: 360, p: 6, f: 16, c: 48, fi: 2 },
                    { name: 'Ø¨Ø§Ù‚Ù„ÙˆØ§', e: 'ğŸ¥®', cal: 425, p: 5, f: 25, c: 45, fi: 2 }
                ]
            },
            drinks: {
                title: 'Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒâ€ŒÙ‡Ø§',
                emoji: 'ğŸ¥¤',
                items: [
                    { name: 'Ù†ÙˆØ´Ø§Ø¨Ù‡ Ú¯Ø§Ø²Ø¯Ø§Ø±', e: 'ğŸ¥¤', cal: 40, p: 0, f: 0, c: 10, fi: 0 },
                    { name: 'Ù†ÙˆØ´Ø§Ø¨Ù‡ Ø²ÛŒØ±Ùˆ', e: 'ğŸš«', cal: 0, p: 0, f: 0, c: 0, fi: 0 },
                    { name: 'Ø¯ÙˆØº', e: 'ğŸ¥›', cal: 27, p: 1.5, f: 1.5, c: 2.5, fi: 0 },
                    { name: 'Ø¢Ø¨ Ù¾Ø±ØªÙ‚Ø§Ù„ Ø·Ø¨ÛŒØ¹ÛŒ', e: 'ğŸŠ', cal: 45, p: 0.7, f: 0.2, c: 10, fi: 0.2 },
                    { name: 'Ù…Ø§Ø¡Ø§Ù„Ø´Ø¹ÛŒØ±', e: 'ğŸº', cal: 25, p: 0.3, f: 0, c: 6, fi: 0 }
                ]
            },
            sauces: {
                title: 'Ø§Ù†ÙˆØ§Ø¹ Ø³Ø³',
                emoji: 'ğŸ¥«',
                items: [
                    { name: 'Ø³Ø³ Ú©Ú†Ø§Ù¾ Ø¯Ù„Ù¾Ø°ÛŒØ±', e: 'ğŸ…', cal: 80, p: 1.7, f: 0.1, c: 18.3, fi: 0.5 },
                    { name: 'Ø³Ø³ ÙØ±Ø§Ù†Ø³ÙˆÛŒ Ø¯Ù„Ù¾Ø°ÛŒØ±', e: 'ğŸ‡«ğŸ‡·', cal: 356, p: 0.8, f: 32, c: 16, fi: 0 },
                    { name: 'Ø³Ø³ Ù‡Ø²Ø§Ø± Ø¬Ø²ÛŒØ±Ù‡ Ø¯Ù„Ù¾Ø°ÛŒØ±', e: 'ğŸï¸', cal: 402, p: 0.7, f: 39, c: 9.5, fi: 0 }
                ]
            }
        }
    };

    function getTargetRatios() {
        const sliderValue = parseInt(macroSlider.value);
        const p = 0.25 + (sliderValue / 100) * 0.10;
        const f = 0.35 + (sliderValue / 100) * 0.20;
        const c = 0.40 - (sliderValue / 100) * 0.30;
        return { p, f, c };
    }

    function updateMacroRatioDisplay() {
        const ratios = getTargetRatios();
        let totalP = 0, totalF = 0, totalC = 0, totalFi = 0;
        
        document.querySelectorAll('.meal-card.selected, .fixed-item-card').forEach(card => {
            const cardData = getCardData(card);
            totalP += cardData.p; totalF += cardData.f; totalC += cardData.c; totalFi += cardData.fi;
        });
        
        document.querySelectorAll('.gram-based-info-card .gram-input').forEach(input => {
            const grams = parseFloat(input.value) || 0;
            if (grams > 0) {
                totalP += (parseFloat(input.dataset.p) / 100) * grams;
                totalF += (parseFloat(input.dataset.f) / 100) * grams;
                totalC += (parseFloat(input.dataset.c) / 100) * grams;
                totalFi += (parseFloat(input.dataset.fi) / 100) * grams;
            }
        });

        const calP = totalP * 4; const calF = totalF * 9; const calC = totalC * 4;
        const totalMacroCal = calP + calF + calC;
        const pPercent = totalMacroCal > 0 ? (calP / totalMacroCal) * 100 : 0;
        const fPercent = totalMacroCal > 0 ? (calF / totalMacroCal) * 100 : 0;
        const cPercent = totalMacroCal > 0 ? (calC / totalMacroCal) * 100 : 0;

        macroRatioDisplay.innerHTML = `
            <div class="text-sm">Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù‡Ø¯Ù: 
                <span class="text-blue-600">P:${Math.round(ratios.p*100)}%</span> | 
                <span class="text-amber-600">F:${Math.round(ratios.f*100)}%</span> | 
                <span class="text-green-600">C:${Math.round(ratios.c*100)}%</span>
            </div>
            <div class="font-normal mt-1">ÙˆØ¹Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ÛŒ: 
                <span class="text-blue-600">P:${pPercent.toFixed(0)}%</span> | 
                <span class="text-amber-600">F:${fPercent.toFixed(0)}%</span> | 
                <span class="text-green-600">C:${cPercent.toFixed(0)}%</span> |
                <span class="text-purple-600">Fi:${totalFi.toFixed(1)}g</span>
            </div>
        `;
    }
    
    function adjustMealToProfile(originalMeal, totalTargetCalories, targetRatios) {
        let ingredients = JSON.parse(JSON.stringify(originalMeal.ingredients));

        let currentCals = { p: 0, f: 0, c: 0, total: 0 };
        ingredients.forEach(ing => {
            const gFactor = originalMeal.ingredients.find(oi => oi.n === ing.n).g > 0 ? ing.g / originalMeal.ingredients.find(oi => oi.n === ing.n).g : 0;
            currentCals.p += (originalMeal.ingredients.find(oi => oi.n === ing.n).p * 4) * gFactor;
            currentCals.f += (originalMeal.ingredients.find(oi => oi.n === ing.n).f * 9) * gFactor;
            currentCals.c += (originalMeal.ingredients.find(oi => oi.n === ing.n).c * 4) * gFactor;
        });
        currentCals.total = currentCals.p + currentCals.f + currentCals.c;
        
        const finalFactor = totalTargetCalories / currentCals.total;
        if (currentCals.total > 0 && isFinite(finalFactor)) {
            ingredients.forEach(ing => { ing.g *= finalFactor; });
        }
        
        return { ...originalMeal, ingredients: ingredients };
    }

    function calculateAllStats() {
        const weight = parseFloat(weightInput.value) || 0;
        const weeklyLoss = parseFloat(lossInput.value) || 0;
        const bmr = Math.round((10 * weight) + (6.25 * HEIGHT_CM) - (5 * AGE) + 5);
        const tdee = Math.round(bmr * ACTIVITY_MULTIPLIER);
        const bmi = (weight / ((HEIGHT_CM / 100) ** 2)).toFixed(1);
        const dailyDeficit = Math.round(weeklyLoss * 7700 / 7);
        const targetCalories = tdee - dailyDeficit;

        displayBMI.textContent = bmi;
        displayBMR.textContent = `${bmr} kcal`;
        displayTDEE.textContent = `${tdee} kcal`;
        displayDeficit.textContent = `-${dailyDeficit} kcal`;
        displayTargetCalories.textContent = `~${targetCalories} kcal`;
        targetCaloriesDisplay.textContent = `/ ${targetCalories}`;

        const fixedSnacksCals = calculateFixedSnacksTotal(true);
        const caloriesForMeals = targetCalories - fixedSnacksCals;
        const targetCaloriesPerMeal = caloriesForMeals > 0 ? caloriesForMeals / 2 : 500; 
        const targetRatios = getTargetRatios();

        const processMealList = (list) => list.map(meal => {
            const adjustedMeal = adjustMealToProfile(meal, targetCaloriesPerMeal, targetRatios);
            adjustedMeal.ingredients.forEach((ing, i) => {
                const originalIng = meal.ingredients[i];
                ing.p_per_g = originalIng.g > 0 ? originalIng.p / originalIng.g : 0;
                ing.f_per_g = originalIng.g > 0 ? originalIng.f / originalIng.g : 0;
                ing.c_per_g = originalIng.g > 0 ? originalIng.c / originalIng.g : 0;
                ing.fi_per_g = originalIng.g > 0 ? originalIng.fi / originalIng.g : 0;
                ing.cal_per_g = originalIng.g > 0 ? originalIng.cal / originalIng.g : 0;
            });
            return adjustedMeal;
        });
        
        MEAL_DATA.superSatiety = processMealList(ORIGINAL_MEALS_DB.superSatiety);
        MEAL_DATA.meal1 = processMealList(ORIGINAL_MEALS_DB.breakfast);
        MEAL_DATA.meal2 = processMealList(ORIGINAL_MEALS_DB.dinner);
        
        renderAllMeals();
        updateSummary();
    }

    function createCard(item, type, index, container) {
        const card = document.createElement('div');
        card.className = (type === 'fixed') ? 'fixed-item-card bg-white p-4 rounded-xl shadow-sm' : 'meal-card bg-white p-4 rounded-xl shadow-sm cursor-pointer';
        if (type === 'superSatiety') card.classList.add('satiety-card');
        card.dataset.type = type;
        card.dataset.index = index;

        const ingredientHTML = item.ingredients.map((ing, ingIndex) => {
            const isChecked = ing.defaultOff ? '' : 'checked';
            return `<li class="text-sm text-gray-600 flex justify-between items-center border-b last:border-b-0 py-1">
                <div class="flex items-center">
                    <input type="checkbox" class="toggle-checkbox hidden" id="toggle_${type}_${index}_${ingIndex}" ${isChecked} onchange="recalculateCardMacros(this.closest('[data-type]'))">
                    <label for="toggle_${type}_${index}_${ingIndex}" class="toggle-label relative w-10 h-5 rounded-full cursor-pointer mr-3">
                        <span class="toggle-dot absolute left-0.5 top-0.5 w-4 h-4 bg-white rounded-full transition-transform"></span>
                    </label>
                    <span class="whitespace-nowrap">${ing.e} ${ing.n}</span>
                </div>
                <div class="flex items-center">
                    <input type="number" value="${Math.round(ing.g)}" class="gram-input" data-ing-index="${ingIndex}" oninput="recalculateCardMacros(this.closest('[data-type]'))">
                    <span>Ú¯Ø±Ù…</span>
                </div>
                <span class="macro-details text-xs text-gray-500 text-right w-32"></span>
            </li>`;
        }).join('');
        
        let cardHeader = '';
        if (type !== 'fixed') {
             const ketoTag = item.isKeto ? '<span class="keto-tag">Ú©ØªÙˆ</span>' : '';
             cardHeader = `<div class="summary-view cursor-pointer">
                    <div class="flex justify-between items-start">
                        <div class="flex-grow"><h4 class="text-lg font-bold text-gray-900 flex items-center">${ketoTag}${item.emoji} ${item.name}</h4><p class="meal-macros text-sm text-gray-500"></p></div>
                        <span class="meal-calories text-blue-600 font-semibold text-lg whitespace-nowrap ml-2"></span>
                    </div>
                    <div class="toggle-details text-center text-xs text-blue-500 mt-2 font-semibold">Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ùˆ ÙˆÛŒØ±Ø§ÛŒØ´ Ø¬Ø²Ø¦ÛŒØ§Øª Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</div>
                </div>`;
        } else {
             cardHeader = `<h4 class="text-lg font-bold text-gray-900 flex items-center">${item.emoji} ${item.name}</h4>`;
        }

        card.innerHTML = cardHeader + `<div class="ingredient-list mt-2 pt-2 border-t border-gray-200"><ul>${ingredientHTML}</ul></div>`;
        
        if (type !== 'fixed') {
            card.querySelector('.summary-view').addEventListener('click', (e) => {
                 if (e.target.tagName.toLowerCase() !== 'input' && e.target.tagName.toLowerCase() !== 'label') handleMealSelection(card);
            });
        } else {
            card.classList.add('open');
        }
        
        recalculateCardMacros(card);
        container.appendChild(card);
    }
    
    function createInfoCard(cardData, container){
        const card = document.createElement('div');
        card.className = 'info-card bg-white p-4 rounded-xl shadow-sm cursor-pointer';
        const itemsHTML = cardData.items.map(item => `<li class="text-sm text-gray-700 flex items-start py-1"><span class="mr-2">${item.e}</span><div><span class="font-semibold">${item.name}:</span> <span class="text-gray-600">${item.info}</span></div></li>`).join('');
        card.innerHTML = `<div class="summary-view"><h4 class="text-lg font-bold text-gray-900 flex items-center">${cardData.emoji} ${cardData.title}</h4></div><div class="ingredient-list mt-2 pt-2 border-t border-gray-200"><ul class="space-y-1">${itemsHTML}</ul></div>`;
        card.addEventListener('click', () => card.classList.toggle('open'));
        container.appendChild(card);
    }
    
    function createGramBasedInfoCard(cardData, container) {
        const categoryCard = document.createElement('div');
        categoryCard.className = 'gram-based-info-card bg-white p-4 rounded-xl shadow-sm';
        
        let itemsHTML = cardData.items.map((item) => `
            <div class="p-2 rounded-lg border-b last:border-b-0">
                <div class="flex justify-between items-center text-sm">
                    <span class="font-semibold">${item.e} ${item.name}</span>
                    <div class="flex items-center">
                        <input type="number" value="0" class="gram-input" 
                            data-cal="${item.cal}" data-p="${item.p}" data-f="${item.f}" data-c="${item.c}" data-fi="${item.fi || 0}"
                            oninput="updateSummary()">
                        <span>Ú¯Ø±Ù…</span>
                    </div>
                </div>
                <div class="text-xs text-gray-500 text-left mt-1">Ø¯Ø± Û±Û°Û° Ú¯Ø±Ù…: ${item.cal} kcal | P:${item.p} F:${item.f} C:${item.c}</div>
            </div>
        `).join('');

        categoryCard.innerHTML = `<h4 class="text-lg font-bold text-gray-900 flex items-center">${cardData.emoji} ${cardData.title}</h4><div class="mt-2 pt-2 border-t border-gray-200 space-y-2">${itemsHTML}</div>`;
        container.appendChild(categoryCard);
    }

    window.recalculateCardMacros = (card) => {
        const type = card.dataset.type;
        const index = card.dataset.index;
        let mealTemplate;
        if (type === 'fixed') mealTemplate = ORIGINAL_MEALS_DB.fixedSnacks[index];
        else if (type === 'superSatiety') mealTemplate = ORIGINAL_MEALS_DB.superSatiety[index];
        else if (type === 'meal1') mealTemplate = ORIGINAL_MEALS_DB.breakfast[index];
        else if (type === 'meal2') mealTemplate = ORIGINAL_MEALS_DB.dinner[index];
        if (!mealTemplate) return;
        
        let total = { cal: 0, p: 0, f: 0, c: 0, fi: 0 };
        card.querySelectorAll('li').forEach((li, ingIndex) => {
            const toggle = li.querySelector('.toggle-checkbox');
            const macroDetailEl = li.querySelector('.macro-details');
            if (!toggle.checked) {
                if(macroDetailEl) macroDetailEl.innerHTML = '';
                return;
            };

            const input = li.querySelector('.gram-input');
            const newGrams = parseFloat(input.value) || 0;
            const originalIng = mealTemplate.ingredients[ingIndex];
            const gFactor = originalIng.g > 0 ? newGrams / originalIng.g : 0;
            const cal = originalIng.cal * gFactor, p = originalIng.p * gFactor, f = originalIng.f * gFactor, c = originalIng.c * gFactor, fi = originalIng.fi * gFactor;
            total.cal += cal; total.p += p; total.f += f; total.c += c; total.fi += fi;
            if(macroDetailEl) macroDetailEl.innerHTML = `Kcal:${cal.toFixed(0)} P:${p.toFixed(1)} F:${f.toFixed(1)} C:${c.toFixed(1)} Fi:${fi.toFixed(1)}`;
        });

        if (type !== 'fixed') {
            card.querySelector('.meal-calories').textContent = `~${Math.round(total.cal)} Ú©Ø§Ù„Ø±ÛŒ`;
            card.querySelector('.meal-macros').innerHTML = `P: ${total.p.toFixed(1)} | F: ${total.f.toFixed(1)} | C: ${total.c.toFixed(1)} | Fi: ${total.fi.toFixed(1)}`;
        }
        card.dataset.calories = total.cal;
        updateSummary();
    }
    
    function handleMealSelection(card) {
        card.classList.toggle('selected');
        card.classList.toggle('open');
        updateSummary();
    }

    function calculateFixedSnacksTotal(useOriginal=false) {
        let total = 0;
        if (useOriginal) {
            ORIGINAL_MEALS_DB.fixedSnacks.forEach(snack => { snack.ingredients.forEach(ing => total += ing.cal); });
        } else {
            document.querySelectorAll('.fixed-item-card').forEach(card => { total += parseFloat(card.dataset.calories) || 0; });
        }
        return total;
    }

    function getCardData(card) {
        let total = { cal: 0, p: 0, f: 0, c: 0, fi: 0 };
        const type = card.dataset.type, index = card.dataset.index;
        let mealTemplate;
        if (type === 'fixed') mealTemplate = ORIGINAL_MEALS_DB.fixedSnacks[index];
        else if (type === 'superSatiety') mealTemplate = ORIGINAL_MEALS_DB.superSatiety[index];
        else if (type === 'meal1') mealTemplate = ORIGINAL_MEALS_DB.breakfast[index];
        else if (type === 'meal2') mealTemplate = ORIGINAL_MEALS_DB.dinner[index];
        if (!mealTemplate) return total;

        card.querySelectorAll('li').forEach((li, ingIndex) => {
            if (!li.querySelector('.toggle-checkbox').checked) return;
            const newGrams = parseFloat(li.querySelector('.gram-input').value) || 0;
            const originalIng = mealTemplate.ingredients[ingIndex];
            const gFactor = originalIng.g > 0 ? newGrams / originalIng.g : 0;
            total.cal += originalIng.cal * gFactor; total.p += originalIng.p * gFactor; total.f += originalIng.f * gFactor; total.c += originalIng.c * gFactor; total.fi += originalIng.fi * gFactor;
        });
        return total;
    }

    function updateSummary() {
        let totalCalories = 0;
        document.querySelectorAll('.fixed-item-card').forEach(card => { totalCalories += parseFloat(card.dataset.calories) || 0; });
        document.querySelectorAll('.meal-card.selected').forEach(card => { totalCalories += parseFloat(card.dataset.calories) || 0; });
        
        document.querySelectorAll('.gram-based-info-card .gram-input').forEach(input => {
            const grams = parseFloat(input.value) || 0;
            if (grams > 0) {
                totalCalories += (parseFloat(input.dataset.cal) / 100) * grams;
            }
        });
        
        totalCaloriesEl.textContent = Math.round(totalCalories);
        
        const targetCalories = parseInt(displayTargetCalories.textContent.replace('~', '').replace(' kcal', '')) || 1500;
        let percentage = (totalCalories / targetCalories) * 100;
        if (percentage > 100) percentage = 100;
        
        progressBarEl.style.width = `${percentage}%`;
        
        if (totalCalories > targetCalories + 50) { progressBarEl.className = 'bg-red-500 h-2.5 rounded-full'; } 
        else if (totalCalories >= targetCalories - 50) { progressBarEl.className = 'bg-green-500 h-2.5 rounded-full'; } 
        else { progressBarEl.className = 'bg-yellow-300 h-2.5 rounded-full'; }
        
        updateMacroRatioDisplay();
    }

    function renderAllMeals() {
        fixedSnacksContainer.innerHTML = '';
        superSatietyContainer.innerHTML = '';
        meal1Container.innerHTML = '';
        meal2Container.innerHTML = '';
        ORIGINAL_MEALS_DB.fixedSnacks.forEach((item, index) => createCard(item, 'fixed', index, fixedSnacksContainer));
        MEAL_DATA.superSatiety.forEach((meal, index) => createCard(meal, 'superSatiety', index, superSatietyContainer));
        MEAL_DATA.meal1.forEach((meal, index) => createCard(meal, 'meal1', index, meal1Container));
        MEAL_DATA.meal2.forEach((meal, index) => createCard(meal, 'meal2', index, meal2Container));
        
        fastingCardContainer.innerHTML = '';
        dessertCardContainer.innerHTML = '';
        drinksCardContainer.innerHTML = '';
        saucesCardContainer.innerHTML = '';
        
        createInfoCard(ORIGINAL_MEALS_DB.infoCards.fasting, fastingCardContainer);
        createGramBasedInfoCard(ORIGINAL_MEALS_DB.infoCards.desserts, dessertCardContainer);
        createGramBasedInfoCard(ORIGINAL_MEALS_DB.infoCards.drinks, drinksCardContainer);
        createGramBasedInfoCard(ORIGINAL_MEALS_DB.infoCards.sauces, saucesCardContainer);
    }

    weightInput.addEventListener('input', calculateAllStats);
    lossInput.addEventListener('input', calculateAllStats);
    macroSlider.addEventListener('input', calculateAllStats);
    printBtn.addEventListener('click', () => window.print());

    calculateAllStats();
</script>
</body>
</html>
